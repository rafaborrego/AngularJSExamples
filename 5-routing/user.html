<!-- Display an error only if it is received -->
<div ng-show="error">
    {{error}}
</div>

<!-- Display the user when the object is not null -->
<div ng-show="user">

    <!-- User's name & picture -->
    <div>Name: {{user.name}}</div>
    <div>
        <img alt="{{user.name}}" title="{{user.name}}"
             ng-src="{{user.imageUrl}}" class="user-picture"/>
    </div>

    <!-- Dropdown for sorting. The ordering is done by the browser without extra requests -->
    <div>
        Order:
        <select ng-model="repoSortOrder">
            <option value="name">Name</option>
            <option value="language">Language</option>
            <option value="updated_at">Updated</option>
        </select>
    </div>

    <!-- Table for displaying the user repositories -->
    <div>
        <table>
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Language</th>
                <th>Updated</th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="repo in repositories | orderBy:repoSortOrder">
                <td>{{repo.name}}</td>
                <td>{{repo.description}}</td>
                <td>{{repo.language}}</td>
                <td>{{repo.updated_at | date:"dd/MM/yyyy HH:mm"}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div>
    <a href="#/search">Back to the search form</a>
</div>
